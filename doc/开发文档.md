## å¼€å‘ç¯å¢ƒ

### ç¯å¢ƒè¦æ±‚

- Python 3.12+
- Node.js 16+
- npm 8+

### ç¯å¢ƒé…ç½®

é¡¹ç›®ä½¿ç”¨ `.env` æ–‡ä»¶è¿›è¡Œé…ç½®ã€‚å¤åˆ¶ `.env.example` æ–‡ä»¶å¹¶æ ¹æ®éœ€è¦ä¿®æ”¹ï¼š

```bash
cp .env.example .env
```

ä¸»è¦é…ç½®é¡¹åŒ…æ‹¬ï¼š

- æ•°æ®åº“è¿æ¥ (DB_URL)
- JWT å¯†é’¥ (JWT_SECRET_KEY)
- æœåŠ¡å™¨è®¾ç½® (HOST, PORT)
- ç®¡ç†å‘˜è´¦æˆ· (ADMIN_USERNAME, ADMIN_PASSWORD, ADMIN_EMAIL)

### åç«¯è®¾ç½®

1. è¿›å…¥ api ç›®å½•ï¼š

```bash
cd api
```

2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼š

```bash
python -m venv venv
source venv/bin/activate  # Linux/macOS
venv\Scripts\activate     # Windows
```

3. å®‰è£…ä¾èµ–ï¼š

```bash
pip install -r requirements.txt
```

4. è¿è¡ŒæœåŠ¡å™¨ï¼š

```bash
uvicorn api.main:app --reload
```

æœåŠ¡å™¨å°†åœ¨ http://localhost:8000 ä¸Šè¿è¡Œï¼ŒAPI æ–‡æ¡£å¯åœ¨ http://localhost:8000/docs æŸ¥çœ‹ã€‚

### å‰ç«¯è®¾ç½®

1. è¿›å…¥ frontend ç›®å½•ï¼š

```bash
cd frontend
```

2. å®‰è£…ä¾èµ–ï¼š

```bash
npm install
```

3. è¿è¡Œå¼€å‘æœåŠ¡å™¨ï¼š

```bash
npm run dev
```

å‰ç«¯å°†åœ¨ http://localhost:5173 ä¸Šè¿è¡Œã€‚

### ä½¿ç”¨ Docker è¿è¡Œ

é¡¹ç›®æä¾›äº†å®Œæ•´çš„ Docker é…ç½®ï¼Œæ”¯æŒä¸‰ç§æ•°æ®åº“åç«¯ï¼š

```bash
# ä½¿ç”¨ CLI å·¥å…·ï¼ˆæ¨èï¼‰
./easy-mcp.sh deploy                    # SQLite éƒ¨ç½²
./easy-mcp.sh -d postgres deploy        # Postgres éƒ¨ç½²
./easy-mcp.sh -d mysql deploy           # MySQL éƒ¨ç½²

# æˆ–ä½¿ç”¨ Makefile
make deploy                              # SQLite éƒ¨ç½²
make deploy DB_TYPE=postgres             # Postgres éƒ¨ç½²
```

è¿™å°†å¯åŠ¨ä»¥ä¸‹æœåŠ¡ï¼š

- API æœåŠ¡å™¨ (http://localhost:8000)
- æ•°æ®åº“æœåŠ¡ï¼ˆæ ¹æ®é€‰æ‹©çš„ç±»å‹ï¼‰
- å‰ç«¯åº”ç”¨ï¼ˆé›†æˆåœ¨APIæœåŠ¡ä¸­ï¼‰

## é¡¹ç›®ç»“æ„

```
easy-mcp/
â”œâ”€â”€ api/                              # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ config.py                     # åº”ç”¨é…ç½®
â”‚   â”œâ”€â”€ database.py                   # æ•°æ®åº“è¿æ¥å’Œä¼šè¯ç®¡ç†
â”‚   â”œâ”€â”€ main.py                       # åº”ç”¨å…¥å£ç‚¹
â”‚   â”œâ”€â”€ requirements.txt              # ä¾èµ–é¡¹
â”‚   â”œâ”€â”€ errors/                       # é”™è¯¯ç±»å®šä¹‰
â”‚   â”œâ”€â”€ middleware/                   # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ models/                       # æ•°æ®åº“æ¨¡å‹
â”‚   â”œâ”€â”€ routers/                      # API è·¯ç”±
â”‚   â”œâ”€â”€ schemas/                      # Pydantic æ¨¡å‹/æ¶æ„
â”‚   â”œâ”€â”€ services/                     # ä¸šåŠ¡é€»è¾‘æœåŠ¡
â”‚   â””â”€â”€ utils/                        # å·¥å…·å‡½æ•°
â”œâ”€â”€ frontend/                         # å‰ç«¯æºä»£ç 
â”‚   â”œâ”€â”€ public/                       # é™æ€èµ„æº
â”‚   â”œâ”€â”€ src/                          # æºä»£ç 
â”‚   â”‚   â”œâ”€â”€ components/               # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ router/                   # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ stores/                   # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ utils/                    # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ views/                    # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ App.vue                   # æ ¹ç»„ä»¶
â”‚   â”‚   â””â”€â”€ main.js                   # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ package.json                  # é¡¹ç›®ä¾èµ–
â”‚   â””â”€â”€ vite.config.js                # Vite é…ç½®
â”œâ”€â”€ static/                           # å‰ç«¯æ„å»ºæ–‡ä»¶
â”œâ”€â”€ docker/                           # Docker é…ç½®ç›®å½•
â”‚   â”œâ”€â”€ Dockerfile                    # Docker é•œåƒæ„å»ºæ–‡ä»¶
â”‚   â”œâ”€â”€ docker-compose.*.yml          # å„æ•°æ®åº“éƒ¨ç½²é…ç½®
â”‚   â””â”€â”€ .env.*                        # ç¯å¢ƒå˜é‡é…ç½®
â”œâ”€â”€ doc/                              # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ Dockerè¯´æ˜.md                 # Docker éƒ¨ç½²è¯´æ˜
â”‚   â”œâ”€â”€ æ¥å£è¯´æ˜.md                   # API æ¥å£æ–‡æ¡£
â”‚   â”œâ”€â”€ æ•°æ®åº“è®¾è®¡.md                 # æ•°æ®åº“è®¾è®¡æ–‡æ¡£
â”‚   â””â”€â”€ ç³»ç»Ÿè®¾è®¡.md                   # ç³»ç»Ÿæ¶æ„è®¾è®¡
â”œâ”€â”€ scripts/                          # è„šæœ¬ç›®å½•
â”œâ”€â”€ data/                             # SQLite æ•°æ®ç›®å½•
â”œâ”€â”€ logs/                             # æ—¥å¿—ç›®å½•
â”œâ”€â”€ backup/                           # å¤‡ä»½ç›®å½•
â”œâ”€â”€ easy-mcp.sh                       # CLI ç®¡ç†å·¥å…·
â”œâ”€â”€ Makefile                          # Make å‘½ä»¤å·¥å…·
â”œâ”€â”€ å¿«é€Ÿå¼€å§‹.md                       # å¿«é€Ÿå¼€å§‹æŒ‡å—
â””â”€â”€ README.md                         # é¡¹ç›®è¯´æ˜
```

## æ•°æ®åº“æ¨¡å‹

ç³»ç»Ÿä½¿ç”¨ SQLModel ä½œä¸º ORM æ¡†æ¶ï¼Œä¸»è¦æ•°æ®è¡¨åŒ…æ‹¬ï¼š

- **tb_user**: ç”¨æˆ·è¡¨
- **tb_tool**: å·¥å…·è¡¨
- **tb_tool_deploy**: å·¥å…·å‘å¸ƒå†å²è¡¨
- **tb_tool_func**: å·¥å…·å‡½æ•°è¡¨
- **tb_tool_config**: å·¥å…·é…ç½®è¡¨
- **tb_func**: å‡½æ•°åº“è¡¨
- **tb_func_deploy**: å‡½æ•°å‘å¸ƒå†å²è¡¨
- **tb_func_depends**: å‡½æ•°ä¾èµ–å…³ç³»è¡¨
- **tb_config**: é…ç½®è¡¨
- **tb_audit**: å®¡è®¡æ—¥å¿—è¡¨

## API æ¥å£

API æ¥å£éµå¾ª RESTful é£æ ¼ï¼Œä¸»è¦åŒ…æ‹¬ï¼š

- **/api/v1/auth**: è®¤è¯ç›¸å…³æ¥å£
- **/api/v1/user**: ç”¨æˆ·ç®¡ç†æ¥å£
- **/api/v1/tool**: å·¥å…·ç®¡ç†æ¥å£
- **/api/v1/func**: å‡½æ•°ç®¡ç†æ¥å£
- **/api/v1/config**: é…ç½®ç®¡ç†æ¥å£
- **/api/v1/audit**: å®¡è®¡æ—¥å¿—æ¥å£
- **/api/v1/sse**: MCP SSE æ¥å£
- **/api/v1/invoke**: MCP å·¥å…·è°ƒç”¨æ¥å£

è¯¦ç»†çš„ API æ–‡æ¡£å¯åœ¨è¿è¡Œåç«¯æœåŠ¡å™¨åè®¿é—® http://localhost:8000/docs æŸ¥çœ‹ã€‚


## ğŸ“š æ›´å¤šä¿¡æ¯

- [Dockerè¯´æ˜.md](Dockerè¯´æ˜.md) - å®Œæ•´éƒ¨ç½²æ–‡æ¡£
- [ç³»ç»Ÿè®¾è®¡.md](ç³»ç»Ÿè®¾è®¡.md) - ç³»ç»Ÿæ¶æ„è®¾è®¡
- [æ•°æ®åº“è®¾è®¡.md](æ•°æ®åº“è®¾è®¡.md) - æ•°æ®åº“è®¾è®¡æ–‡æ¡£
- [æ¥å£è¯´æ˜.md](æ¥å£è¯´æ˜.md) - APIæ¥å£æ–‡æ¡£